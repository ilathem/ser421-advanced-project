## Astro Install
For this tutorial, we will be using Astro to simplify the installation of Vue, React, and Svelte.

1. To install astro, open a terminal in any directory and run
```
npm create astro@latest
```
2. Next, specify the location and name you would like to create the project in. If you would like to create the project in the folder you are currently in, just specify the project name. For this tutorial we will be naming the projet `astro-site`
![astro-install-project-name](/astro-install-proj-name.png)
3. After that, astro will ask you which template you would like to use. Templates provide the developer with a starting ground of files to make it easier for them to get started. For this tutorial, we will be selecting `Empty Project` for the template, so that we avoid having to remove any unecessary files.

Using your arrow keys, navigate down to `Empty Project`, then press the enter key to select it.
![select template](/select-template.png)
After selecting the project, astro will start copying the project files. 
4. When astro is done copying the project files, astro will ask if you would like to install npm dependencies. Press `y` to install them
![install npm dependencies](/npm-dep.png)
5. Press `n` to avoid initializing a git repository
![no git repo](/no-git.png)
6. Since this is a beginner tutorial, we will select `I prefer not to use TypeScript` for the TypeScript option. TypeScript is a subset of JavaScript, it basically adds type safety to JavaScript so that you catch common type errors at compile time instead of runtime. It is usually more useful when there is a large project with teams of developers.

Using your arrow keys, navigate down to `I prefer not to use TypeScript`, then press the enter key to select it.
![no ts](/typescript.png)
Upon successful installation, you will see `Ready for liftoff!` in green, and a series of instructions to start the development server:
![astro complete](/astro-complete.png)

## Astro Setup
1. Open a terminal in the `./astro-site` directory, then install vue, react, and svelte dependencies with the following commands, pressing y on any prompts to install dependencies or change the config file.
```
npx astro add react
npx astro add vue
npx astro add svelt
```
![react install](/react-install.png)
![vue install](/vue-install.png)
![svelte install](/svelte-install.png)
Astro will automatically install the dependencies and will change the configuration files for you.
## Page Setup
Astro uses what is called `file-based routing`, which means that each file in the `/pages` directory corresponds to a path in the browser. By default, `index.astro` will correspond to the `/` path.

Note: The terminal commands in this section are executed in Windows Powershell. 

1. First, go to the pages directory and create a folder for each framework component:
```
cd src/pages
mkdir react
mkdir vue
mkdir svelte
```
2. Inside each folder, create a file called `index.astro`. 

Whenever you navigate to folder, it will route to the index of that folder. For example, going to `/react` will cause astro to render what is inside `/pages/react/index.astro`
```
New-item react/index.astro
New-item vue/index.astro
New-item svelte/index.astro
```
3. In addition to `index.astro`, we will need to create each framework file in their respective directories:
```
New-item react/react-demo.jsx
New-item vue/vue-demo.vue
New-item svelte/svelte-demo.svelte
```

4. In each framework `.astro` file, you will need to import the framework component and render it to the screen. 

The `client:load` is called a *directive*, and basically just tells astro to load the javascript as soon as it is rendered to the client.

`/pages/react/index.astro`
```astro
---
import ReactDemo from './react-demo';
---
<a href="/">Back to /</a>
<ReactDemo client:load />
```

`/pages/vue/index.astro`
```astro
---
import Vue from './vue-demo.vue'
---
<a href="/">Back to /</a>
<Vue client:load />
```
`pages/svelte/index.astro`
```astro
---
import SvelteDemo from './svelte-demo.svelte'
---
<a href="/">Back to /</a>
<SvelteDemo client:load />
```

5. To complete the page setup, paste the following into `/pages/index.astro` to enable navigation between the different framework components.
```astro
---
---
<h1>Home Page</h1>
<a href="/react">React Demo</a> | 
<a href="/svelte">Svelte Demo</a> | 
<a href="/vue">Vue Demo</a>
```


## React Tutorial
1. Inside the react folder, create a file called `todo.css` and paste in the following code:
```css

body {
  background-color: #F0FFFF;
}
table, th, td {
  border:1px solid black;
  text-align: center;
}
.toprow {
  background-color: #5F9EA0;
}
.itemrow {
  background-color: #00FFFF;
}
/* Borrowed from getcssscan.com -> Dribbble */
.newtask {
  background-color: #A9A9A9;
  border-radius: 8px;
  border-style: none;
  box-sizing: border-box;
  color: #FFFFFF;
  cursor: pointer;
  display: inline-block;
  font-family: "Haas Grot Text R Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 14px;
  font-weight: 500;
  height: 40px;
  line-height: 20px;
  list-style: none;
  margin: 0;
  outline: none;
  padding: 10px 16px;
  position: relative;
  text-align: center;
  text-decoration: none;
  transition: color 100ms;
  vertical-align: baseline;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  margin: 0;
  position: absolute;
  left: 50%;
  -ms-transform: translateX(-50%);
  transform: translateX(-50%);
}

.newtask:hover,
.newtask:focus {
  background-color: #F082AC;
}

.progress-1 {
  background-color: #FFCCCB;
}

.progress-2 {
  background-color: #FFFFE0;
}

.progress-3 {
  background-color: #90EE90;
}

.name-field {
  position: relative;
}

.delete-btn {
  position: absolute;
  left: 1em;
  background-color: rgb(247, 60, 60);
  padding: .75em;
  top: 15%;
  border: none;
  outline: none;
}

.delete-btn:hover {
  cursor: pointer;
  background-color: red;
  color: white;
}
```

2. Next, add the imports and create the skeleton of the component:
```jsx
import { useState, useEffect } from 'react';
import './todo.css'

export default function ReactDemo() {
  return (
    <>
      <h1>Hello World!</h1>
    </>
  )
}
```
`useState` and `useEffect` are called *hooks*, they provide additional functionality that react provides. `useState` allows us to keep track of component state, and `useEffect` allows us to specify certain functions and cleanup functions every time the state changes, or on component mount and unmount (when it is loaded and unloaded from the screen).

React uses functional components, and each component returns data to render to the screen. The format of the data is called *jsx*, or JavaScript XML. JSX is basically HTML with superpowers, you can also include JavaScript (in curly braces), and render user-defined components.

3. Next, we are going to create the log in / sign up functionality.
Alter the file so that it looks like this:
```jsx
import { useState, useEffect } from 'react';
import './todo.css'

export default function ReactDemo() {
  const [user, setUser] = useState('');
  const [todos, setTodos] = useState([]);

  function logIn() {
    let username = prompt('Please enter your name');
    if (window.localStorage.getItem(`${username}-react`)) {
      setTodos(JSON.parse(window.localStorage.getItem(`${username}-react`)));
    }
    setUser(username);
  }

  return (
    <>
      <h1 style={{ textAlign: 'center' }}>Todo! Application</h1>
      <p style={{ textAlign: 'center' }}>
        A demonstration of four Javascript client-side frameworks. This is React
      </p>
      <br />
      <button className='newtask' onClick={user ? newTask : logIn}>
        {user ? 'New Task' : 'Log in / Sign up'}
      </button>
    </>
  )
}
```
First, we are going to utilize the `useState` hook by keeping track of the current user.
Whenever you use `useState`, you need to specify the initialization value. In this case, it is an empty string.
`useState` returns an array, so we are going to use *array destructuring* to extract `user` and `setUser` out of that array.
`user` will point to current user state, and `setUser` is a method that takes in the new user state.
In addition, `todos` and `setTodos` will point to an array of todo items that the user creates and updates.

Log in function breakdown
```js
let username = prompt('Please enter your name');
```
This will use the browser built in api to ask the user their name.
After the user enters their name, it is stored in the username variable.
```js
if (window.localStorage.getItem(`${username}-react`)) {
  setTodos(JSON.parse(window.localStorage.getItem(`${username}-react`)));
}
```
After getting the username, it will check and see if storage for that user already exists.
If the username is `kevin`, the key will be `kevin-react`. 
If data for that user does exist, it will update the `todo` array to be the one already in local storage by parsing it from a string format into a JSON format.
```js
setUser(username);
```
Finally, it will set the username state to be equal to that username for the duration of the application runtime.

JSX breakdown
```jsx
<>
  <h1 style={{ textAlign: 'center' }}>Todo! Application</h1>
  <p style={{ textAlign: 'center' }}>
    A demonstration of four Javascript client-side frameworks. This is React
  </p>
  <br />
  <button className='newtask' onClick={user ? newTask : logIn}>
    {user ? 'New Task' : 'Log in / Sign up'}
  </button>
</>
```
React supports inline styling through the `style` tag, each style attribute needs to be a key-value pair.
To add classes defined in css, use `className`, followed by `=` and the classes to be included, space delimited and wrapped in quotes.

To register a click handler to an element, use `onClick`, followed by `=` and the function name, or an unamed function:
```jsx
onClick={() => {
  console.log("clicked")
}}
// or
onClick={handleClick}
```
In the example, we are using a ternary operater to determine if the user is logged in or not.
If the user is logged in, the click handler will be the `newTask` function (not defined yet),
and if they are not logged in, the click handler will be the `logIn` function.

Similarily, if the use is logged in, the button will say `New Task`, but if they are not logged in,
it will say `Log in / Sign up`

4. Now that we have log in functionality handled, we can start creating tasks for each user.

Start by defining what happens when the user clicks `New Task` upon sign up or log in:
```js
// When setup in this manner, useEffect will run the function provided
// in the first argument every time the todos array changes.
useEffect(() => {
  // when todos array changes, update local storage by convering the 
  // json to a string
  window.localStorage.setItem(`${user}-react`, JSON.stringify(todos));
}, [todos]);


function addNewTodo(todo) {
  // If this is the first todo to be created, just 
  // set the todos to the input object.
  if (!todos) setTodos(todo); 
  // Otherwise, there are existing objects in the array
  else {
    /* Uses spread syntax (...) to include all other elements
    in that array, then append the new todo item to the end. */
    let todoArray = [...todos, todo];
    /* Next, use array.sort to sort the todo items by date in ascending
    order. The sort method takes in 2 element items (first and second), 
    and sorts them based on the logic you provide. In this example,
    a is one todo object, and b is another todo object. To sort it, 
    we convert each todo object to a number by extacting it's date,
    converting it a time (getTime returns the number of milliseconds
    since the ECMAScript epoch, a universal time), and comparing those 
    integers by subtracting them. If the result is positive, then
    todo a's date is greater than b's date, so a needs to 
    be sorted after b, and if it's negative, todo a's date is less
    then b's date, so a needs to be before b. */
    let sortedTodos = todoArray.sort(
      (a, b) => new Date(a.date).getTime() - new Date(b.date).getTime()
    );
    // After sorting the todos, update state.
    setTodos(sortedTodos);
  }
}

function newTask() {
  // Ask the user for a task name
  let title = prompt('Enter the task name');
  /* Create an array of just task names using array.map method
   Map will iterate over an array and will perform 
   a function on each element, and will create a 
   new array which consist of what that function returns
   for each element.
   For this implementation, iterate over the array and
   for each element, return just the title of that element. */
  let titlesArray = todos.map((todo) => todo.title);
  // If the title already exists, ask the user for another name
  while (titlesArray.includes(title)) {
    title = prompt('That task already exists! Enter another name');
  }
  // Ask the user for a due date
  let date = prompt('Enter future due date in format <MM/DD/YYYY>');
  // If the format fo rthe date is wrong, 
  // or if the date is not in the future,
  // ask them for another date
  while (!Date.parse(date) || Date.parse(date) < Date.now()) {
    date = prompt('Invalid syntax, use format <MM/DD/YYYY> in the future');
  }
  // Ask the user for a completion percent of that task
  let percent = prompt('Enter completion percentage, value from 0 to 100');
  // If the percent isn't valid, ask the user for another 
  while (percent < 0 || percent > 100) {
    percent = prompt('Enter a value from 0 to 100');
  }
  // Add the todo
  /* 
  This uses object destructuring, and is the exact same as:
  addNewTodo({
    title: title,
    date: date,
    percent: percent
  })
  
  */
  addNewTodo({ title, date, percent });
}
```
5. Now that we can add tasks, we can add more display logic in the `return` section to 
dynamically display the todos in a table.
```jsx
return (
  <>
    <h1 style={{ textAlign: 'center' }}>Todo! Application</h1>
    <p style={{ textAlign: 'center' }}>
      A demonstration of four Javascript client-side frameworks. This is React
    </p>
    <br />
    <button className='newtask' onClick={user ? newTask : logIn}>
      {user ? 'New Task' : 'Log in / Sign up'}
    </button>
    <br />
    <br />
    <br />
    {user && (
      <table style={{ width: '100%' }}>
        <thead>
          <tr className='toprow'>
            <td style={{ height: '50px', width: '33.33%' }}>
              <b>Task</b>
            </td>
            <td style={{ height: '50px', width: '33.33%' }}>
              <b>Due Date</b>
            </td>
            <td style={{ height: '50px', width: '33.33%' }}>
              <b>Progress</b>
            </td>
          </tr>
        </thead>
        <tbody>
        {/* 
        Below is the dynamic part. todos.map will go over each element 
        in the todos array, and for each element, return a new table
        row containing information for that todo, as well as click handlers
        to change each part.
        To access javascript inside of jsx, we simply need to wrap it in 
        curly braces { }
        */}
          {todos.map((todo) => {
            return (
              <tr className='itemrow' key={todo.title}>
                <td
                  style={{ height: '50px', width: '33.33%' }}
                  className='name-field'
                  onClick={() => editTask(todo.title)}
                >
                  <button className='delete-btn' onClick={() => {
                    console.log("clicked delete")
                    }}>
                    Delete</button>
                  {todo.title}
                </td>
                <td
                  style={{ height: '50px', width: '33.33%' }}
                  onClick={() => editDate(todo.title)}
                >
                  {todo.date}
                </td>
                {/* 
                Below we have some conditional rendering logic in the form 
                of tenary operators and template literals. If the todo 
                percent is less than 33, then assign the css class 
                `progress-1`, else, if it is less than 67,
                assign `progress-2`. Else, assign `progress-3`
                */}
                <td
                  style={{ height: '50px', width: '33.33%' }}
                  className={`progress-${
                    todo.percent < 33 ? '1' : todo.percent < 67 ? '2' : '3'
                  }`}
                  onClick={() => editPercent(todo.title)}
                >
                  {todo.percent}%
                </td>
              </tr>
            );
          })}
        </tbody>
      </table>
    )}
  </>
);
```
6. After adding the jsx, we can add functions to make it editable.
```js
function editTask(todoTitle) {
  // First, we need to grab the event that is fired to see where it came from.
  // If the tag that fired the event is a TD (a table cell), then
  // we want to edit the name of the task.
  if (event.target.tagName === 'TD') {
    // Ask the user for a title / name
    let newTitle = prompt('What is the new title?');
    // Same logic here as creating a new task...
    let titlesArray = todos.map((todo) => todo.title);
    while (titlesArray.includes(newTitle)) {
      newTitle = prompt('That name already exists! Enter another name');
    }
    // Go through the array
    let updatedArray = todos.map((todo) => {
      // If the current todo title matches the one we want to change,
      // return a new object which consists of the same data as the
      // current object, except the title is now the new name.
      if (todo.title === todoTitle) {
        return {
          title: newTitle,
          date: todo.date,
          percent: todo.percent,
        };
      } else {
        // If the current todo does not match our targert, 
        // simply return it unchanged and keep going
        return todo;
      }
    });
    setTodos(updatedArray);
    // Else, if the tag that fired the event is a BUTTON, then
    // we know that we want to delete that task.
  } else if (event.target.tagName === 'BUTTON') {
    deleteTask(todoTitle)
  }
}

function editDate(todoTitle) {
  // console.log("running edit date")
  let date = prompt('Enter future due date in format <MM/DD/YYYY>');
  while (!Date.parse(date) || Date.parse(date) < Date.now()) {
    date = prompt('Invalid syntax, use format <MM/DD/YYYY> in the future');
  }
  let updatedArray = todos.map((todo) => {
    if (todo.title === todoTitle) {
      return {
        title: todo.title,
        date: date,
        percent: todo.percent,
      };
    } else {
      return todo;
    }
  });
  let sortedTodos = updatedArray.sort(
    (a, b) => new Date(a.date).getTime() - new Date(b.date).getTime()
  );
  setTodos(sortedTodos);
}

function editPercent(todoTitle) {
  let percent = prompt('Enter completion percentage, value from 0 to 100');
  while (percent < 0 || percent > 100) {
    percent = prompt('Enter a value from 0 to 100');
  }
  let updatedArray = todos.map((todo) => {
    if (todo.title === todoTitle) {
      return {
        title: todo.title,
        date: todo.date,
        percent: percent,
      };
    } else {
      return todo;
    }
  });
  setTodos(updatedArray);
}

function deleteTask(todoTitle) {
  // create new array, which contains all elements of todos
  // where the title does not equal the supplied title
  let updatedArray = todos.filter((todo) => todo.title !== todoTitle);
  setTodos(updatedArray);
}
```
Congratulations! You have now made a simple todo app in react!



## Svelte Tutorial
<br></br>
Svelte (the word, not the name) is defined as slender and elegant, and it is very easy to see why once you have learned a bit about this framework.
Svelte is intended to be a barebones framework for Javascript to make implementation as easy as possible. All you need to do to run the Svelte application is:
1. Navigate to this website: https://svelte.dev/examples/hello-world#hello-world

2. Paste in the following code:
```svelte
<!-- Author: Eric Hunley -->
<!-- Test me at https://svelte.dev/examples/hello-world#hello-world -->

<!-- Javascript Scripting -->
<script lang="js">
    import {onMount} from 'svelte';

    var row = 2;
    var name = "";

    // Enter a new task
    function newTask() {
        var r = parseInt(document.getElementById("newtask").value);

        if(r > 8) {
            alert("The task list is full.");
            return;
        }

        var taskCell = document.getElementById("r" + r + "c1");
        var dateCell = document.getElementById("r" + r + "c2");
        var progressCell = document.getElementById("r" + r + "c3");

        var task = prompt("Please enter a task name of at least one and up to 15 characters.", "");
        while(task.length > 15 || task.length < 1) {
            task = prompt("Please enter a task name of at least one and up to 15 characters.", "");
        }

        var date = prompt("Please enter a future due date in the format 'MM/DD/YYYY'.", "");
        var today = getCurrentDate();

        var comp = compareDates(date, today);

        while(!checkIfDate(date) || !comp) {
            date = prompt("Please enter a future due date in the format 'MM/DD/YYYY'.", "");
            comp = compareDates(date, today);
        }

        var progress = prompt("Please enter the progress completion percentage.", "");
        while(!checkIfPercent(progress)) {
            progress = prompt("Please enter the completion percentage from 0 to 100.", "");
        }

        taskCell.innerHTML = task;
        dateCell.innerHTML = date;
        progressCell.innerHTML = progress + "%";
        progressCell.value = progress;
        colorCode(parseInt(r), progress);

        storeData();

        r = parseInt(r) + 1;
        document.getElementById("newtask").value = r;
    }

    // Confirm submission is an appropriately-styled date
    function checkIfDate(x) {
        if(x.length != 10) {
            return false;
        }

        if(x.charAt(0) != "0" && x.charAt(0) != "1") {
            return false;
        }

        if(!Number.isInteger(parseInt(x.charAt(1)))) {
            return false;
        }

        if(x.charAt(2) != "/") {
            return false;
        }

        if(x.charAt(3) != "0" && x.charAt(3) != "1" && x.charAt(3) != "2" && x.charAt(3) != "3") {
            return false;
        }

        if(!Number.isInteger(parseInt(x.charAt(4)))) {
            return false;
        }

        if(x.charAt(5) != "/") {
            return false;
        }

        if(!Number.isInteger(parseInt(x.charAt(6)))) {
            return false;
        }

        if(!Number.isInteger(parseInt(x.charAt(7)))) {
            return false;
        }

        if(!Number.isInteger(parseInt(x.charAt(8)))) {
            return false;
        }

        if(!Number.isInteger(parseInt(x.charAt(9)))) {
            return false;
        }

        return true;
    }

    // Get today's date
    function getCurrentDate() {
        var today = new Date();
        var day = String(today.getDate()).padStart(2, '0');
        var month = String(today.getMonth() + 1).padStart(2, '0');
        var year = today.getFullYear();

        today = month + "/" + day + "/" + year;

        return today;
    }

    // Compare dates
    function compareDates(x, y) {
        var entYear = parseInt(x.substring(6));
        var entMonth = parseInt(x.substring(0));
        var entDay = parseInt(x.substring(3));

        var currYear = parseInt(y.substring(6));
        var currMonth = parseInt(y.substring(0));
        var currDay = parseInt(y.substring(3));

        if(entYear < currYear) {
            return false;
        } else if(entMonth < currMonth && entYear === currYear) {
            return false;
        } else if(entDay <= currDay && entMonth === currMonth && entYear === currYear) {
            return false;
        } else {
            return true;
        }
    }

    // Confirm submission is a percentage
    function checkIfPercent(x) {
        if(!Number.isInteger(parseInt(x))) {
            return false;
        }

        if(x > 100 || x < 0) {
            return false;
        }

        return true;
    }

    // Edit a task
    function editTask(r, c) {
        var taskCell = document.getElementById("r" + r + "c" + c);

        if(taskCell.innerHTML.length < 1) {
            return;
        }

        var newTaskName = prompt("Please enter a new task name of at least one and up to 15 characters.", ""); 
        while(newTaskName.length > 15 || newTaskName.length < 1) {
            newTaskName = prompt("Please enter a new task name of at least one and up to 15 characters.", ""); 
        }

        taskCell.innerHTML = newTaskName;
    }

    // Edit a date
    function editDate(r, c) {
        var dateCell = document.getElementById("r" + r + "c" + c);

        if(dateCell.innerHTML.length < 1) {
            return;
        }

        var newDate = prompt("Please enter a new due date in the format 'MM/DD/YYYY'.", ""); 
        while(!checkIfDate(newDate)) {
            newDate = prompt("Please enter a new due date in the format 'MM/DD/YYYY'.", ""); 
        }

        dateCell.innerHTML = newDate;

    }

    // Edit a completion percentage
    function editPercent(r, c) {
        var percentCell = document.getElementById("r" + r + "c" + c);

        if(percentCell.innerHTML.length < 1) {
            return;
        }

        var newPercent = prompt("Please enter the updated progress completion percentage from 0 to 100.", "");
        while(!checkIfPercent(newPercent)) {
            newPercent = prompt("Please enter the updated progress completion percentage from 0 to 100.", "");
        }

        percentCell.innerHTML = newPercent + "%";
        colorCode(r, newPercent);
    }

    // Color code based on percentage
    function colorCode(r, x) {
        var taskCell = document.getElementById("r" + r + "c1");
        var dateCell = document.getElementById("r" + r + "c2");
        var percentCell = document.getElementById("r" + r + "c3");

        if(x < 33) {
            taskCell.style.backgroundColor = "#FFCCCB";
            dateCell.style.backgroundColor = "#FFCCCB";
            percentCell.style.backgroundColor = "#FFCCCB";
        } else if(x < 67) {
            taskCell.style.backgroundColor = "#FFFFE0";
            dateCell.style.backgroundColor = "#FFFFE0";
            percentCell.style.backgroundColor = "#FFFFE0";
        } else {
            taskCell.style.backgroundColor = "#90EE90";
            dateCell.style.backgroundColor = "#90EE90";
            percentCell.style.backgroundColor = "#90EE90";
        }
    }

    // Color code at loading
    function colorCodeOnLoad() {
        var i = 2;

        while(document.getElementById("r" + i + "c3").innerHTML != "") {
            var j = document.getElementById("r" + i + "c3").value;

            colorCode(i, j);

            i += 1;

            if(i === 9) {
                break;
            }
        }
    }

    // Ask for name at load, check for local storage
    function getName() {
        var userName = prompt("Hello! Please enter your name.", "");
        sessionStorage.setItem("name", userName);

        if(localStorage.getItem(userName + "tasks") != null) {
            var tasks = localStorage.getItem(userName + "tasks");
            var dates = localStorage.getItem(userName + "dates");
            var percents = localStorage.getItem(userName + "percents");
            var colors = localStorage.getItem(userName + "colors");

            var tasksArray = tasks.split("@");
            var datesArray = dates.split("@");
            var percentsArray = percents.split("@");
            var colorsArray = colors.split("@");

            for(var i = 0; i < tasksArray.length - 1; i++) {
                var j = i + 2;
                var cell = document.getElementById("r" + j + "c1");
                if(tasksArray[i] != null) {
                    if(i > 0) {
                        tasksArray[i] = tasksArray[i].substring(1);
                    }
                    cell.innerHTML = tasksArray[i];
                }
            }

            for(var i = 0; i < datesArray.length - 1; i++) {
                var j = i + 2;
                var cell = document.getElementById("r" + j + "c2");
                if(datesArray[i] != null) { 
                    if(i > 0) {
                        datesArray[i] = datesArray[i].substring(1);
                    }
                    cell.innerHTML = datesArray[i];
                }
            }

            for(var i = 0; i < percentsArray.length - 1; i++) {
                var j = i + 2;
                var cell = document.getElementById("r" + j + "c3");
                if(percentsArray[i] != null) {
                    if(i > 0) {
                        percentsArray[i] = percentsArray[i].substring(1);
                    }
                    cell.innerHTML = percentsArray[i];
                }
            }

            for(var i = 0; i < colorsArray.length - 1; i++) {
                var j = i + 2;
                var cell = document.getElementById("r" + j + "c3");
                if(colorsArray[i] != null) {
                    if(i > 0) {
                        colorsArray[i] = colorsArray[i].substring(1);
                    }
                    cell.value = colorsArray[i];
                }
            }

            var i = 2;

            while(document.getElementById("r" + i + "c1").innerHTML != "") {
                i += 1;

                if(i === 9) {
                    break;
                }
            }

            document.getElementById("newtask").value = i;

        } else {
            document.getElementById("newtask").value = 2;
        }

        colorCodeOnLoad();
    }

    // Store user task data
    function storeData() {
        var name = sessionStorage.getItem("name");

        var tasks = [];
        var dates = [];
        var percents = [];
        var colors = [];

        var i = 2;
        var j;
        var k;

        while(i < 9) {
            while(document.getElementById("r" + i + "c1").innerHTML != "") {
                i += 1;

                if(i === 9) {
                    break;
                }
            }
            i += 1;
        }

        j = i - 2;
        i = 0;

        for(i; i < j; i++) {
            k = i + 2;
            tasks[i] = document.getElementById("r" + k + "c1").innerHTML + "@";
            dates[i] = document.getElementById("r" + k + "c2").innerHTML + "@";
            percents[i] = document.getElementById("r" + k + "c3").innerHTML + "@";
            colors[i] = document.getElementById("r" + k + "c3").value + "@";
        }

        localStorage.setItem(name + "tasks", tasks);
        localStorage.setItem(name + "dates", dates);
        localStorage.setItem(name + "percents", percents);
        localStorage.setItem(name + "colors", colors);
    }

    // Run on mount
    onMount(() => {
        getName();
    });

</script>
  
<!-- HTML Components -->
<section>
    <body>
        <h1 style="text-align:center;">To-Do! Application</h1>
        <div style="text-align:center;">A demonstration of four Javascript client-side frameworks. This is Svelte.</div>
        <div style="text-align:center;">You can edit a previously entered field by clicking on it.</div>
        <br>
        <button id="newtask" class="newtask" value="2" on:click={newTask}>New Task</button>
        <br><br><br>

        <table style="width:100%">
            <tr id="r1" class="toprow">
                <td id="r1c1" height="50px" width="33.33%">
                    <b>Task</b>
                </td>
                <td id="r1c2" height="50px" width="33.33%">
                    <b>Due Date</b>
                </td>
                <td id="r1c3" height="50px" width="33.33%">
                    <b>Progress</b>
                </td>
            </tr>
            <tr id="r2" class="itemrow">
                <td id="r2c1" height="50px" width="33.33%" on:click={() => editTask(2, 1)}>

                </td>
                <td id="r2c2" height="50px" width="33.33%" on:click={() => editDate(2, 2)}>

                </td>
                <td id="r2c3" height="50px" width="33.33%" on:click={() => editPercent(2, 3)}>
                </td>
            </tr>
            <tr id="r3" class="itemrow">
                <td id="r3c1" height="50px" width="33.33%" on:click={() => editTask(3, 1)}>

                </td>
                <td id="r3c2" height="50px" width="33.33%" on:click={() => editDate(3, 2)}>

                </td>
                <td id="r3c3" height="50px" width="33.33%" on:click={() => editPercent(3, 3)}>
                </td>
            </tr>
            <tr id="r4" class="itemrow">
                <td id="r4c1" height="50px" width="33.33%" on:click={() => editTask(4, 1)}>

                </td>
                <td id="r4c2" height="50px" width="33.33%" on:click={() => editDate(4, 2)}>

                </td>
                <td id="r4c3" height="50px" width="33.33%" on:click={() => editPercent(4, 3)}>
                </td>
            </tr>
            <tr id="r5" class="itemrow">
                <td id="r5c1" height="50px" width="33.33%" on:click={() => editTask(5, 1)}>

                </td>
                <td id="r5c2" height="50px" width="33.33%" on:click={() => editDate(5, 2)}>

                </td>
                <td id="r5c3" height="50px" width="33.33%" on:click={() => editPercent(5, 3)}>
                </td>
            </tr>
            <tr id="r6" class="itemrow">
                <td id="r6c1" height="50px" width="33.33%" on:click={() => editTask(6, 1)}>

                </td>
                <td id="r6c2" height="50px" width="33.33%" on:click={() => editDate(6, 2)}>

                </td>
                <td id="r6c3" height="50px" width="33.33%" on:click={() => editPercent(6, 3)}>
                </td>
            </tr>
            <tr id="r7" class="itemrow">
                <td id="r7c1" height="50px" width="33.33%" on:click={() => editTask(7, 1)}>

                </td>
                <td id="r7c2" height="50px" width="33.33%" on:click={() => editDate(7, 2)}>

                </td>
                <td id="r7c3" height="50px" width="33.33%" on:click={() => editPercent(7, 3)}>
                </td>
            </tr>
            <tr id="r8" class="itemrow">
                <td id="r8c1" height="50px" width="33.33%" on:click={() => editTask(8, 1)}>

                </td>
                <td id="r8c2" height="50px" width="33.33%" on:click={() => editDate(8, 2)}>

                </td>
                <td id="r8c3" height="50px" width="33.33%" on:click={() => editPercent(8, 3)}>
                </td>
            </tr>
        </table>
    </body>
</section>

<!-- CSS Styling -->
<style>
    body {
        background-color: #F0FFFF;
    }
    table, td {
      border:1px solid black;
      text-align: center;
    }
    .toprow {
      background-color: #5F9EA0;
    }
    .itemrow {
      background-color: #00FFFF;
    }
    /* Borrowed from getcssscan.com -> Dribbble */
    .newtask {
    background-color: #A9A9A9;
    border-radius: 8px;
    border-style: none;
    box-sizing: border-box;
    color: #FFFFFF;
    cursor: pointer;
    display: inline-block;
    font-family: "Haas Grot Text R Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    font-weight: 500;
    height: 40px;
    line-height: 20px;
    list-style: none;
    margin: 0;
    outline: none;
    padding: 10px 16px;
    position: relative;
    text-align: center;
    text-decoration: none;
    transition: color 100ms;
    vertical-align: baseline;
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;
    margin: 0;
    position: absolute;
    left: 50%;
    -ms-transform: translateX(-50%);
    transform: translateX(-50%);
    }

    .newtask:hover,
    .newtask:focus {
    background-color: #F082AC;
    }
</style>
```
Very easy! Enjoy!
## Vue Tutorial
<br></br>
1.  Create a file called vue-demo.vue and inside that file create three sections: script, template, and style. The script section will contain the 
data and logic for our app. The template section will contain the html and the style section will contain most of the css. 
```vue
<script lang="js">  

</script>  

<template>  

</template>

<style>

</style>
```
<br></br>
2.  Next you will add the style to the style section of the document
```css
<style>
    body {
    background-color: #f0ffff;
    }
    table,
    th,
    td {
    border: 1px solid black;
    text-align: center;
    }
    .toprow {
        background-color: #5F9EA0;
        }
        .itemrow {
        background-color: #00FFFF;
        }
    #description {
    text-align: center;
    }
    /* Borrowed from getcssscan.com -> Dribbble */
    .newtask {
    background-color: #a9a9a9;
    border-radius: 8px;
    border-style: none;
    box-sizing: border-box;
    color: #ffffff;
    cursor: pointer;
    display: inline-block;
    font-family: 'Haas Grot Text R Web', 'Helvetica Neue', Helvetica, Arial,
        sans-serif;
    font-size: 14px;
    font-weight: 500;
    height: 40px;
    line-height: 20px;
    list-style: none;
    margin: 0;
    outline: none;
    padding: 10px 16px;
    position: relative;
    text-align: center;
    text-decoration: none;
    transition: color 100ms;
    vertical-align: baseline;
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;
    margin: 0;
    position: absolute;
    left: 50%;
    -ms-transform: translateX(-50%);
    transform: translateX(-50%);
    }
    .newtask:hover,
    .newtask:focus {
    background-color: #f082ac;
    }

    .task-field {
    position: relative;
    }
    .delete-button {
    position: absolute;
    left: 1em;
    background-color: rgb(247, 60, 60);
    padding: .75em;
    top: 15%;
    border: none;
    outline: none;
    }

    .delete-button:hover {
    cursor: pointer;
    background-color: red;
    color: white;
    }
</style>
```
<br></br>
3. The next step is to add the html to the template section of the document. You will notice that although most
of this looks like regular HTML there are a few differences. The first is the @click= part in the certain sections. This is similar to to the HTML onclick and tells vue
 to call a particular function contained in the script section when that HTML element is clicked. @click can work on other HTML elements aside from buttons as 
you will see when you scroll down and notice them in the table section as well.   
You will see two things that do not look familiar in the tr section of the class itemrow. The first is the v-for. This operates like a normal for in statement
in any other language although here you can also save the index of the item your are cycling through. The v-for command will dynamically create rows based on
the size of the data (stored in the script section) and each row will have access to each element plus their index number.
The next difference is the v-bind:style. This dynamically changes the style of a particular element based on a value. In this case it will change the background
color of the entire row depending of how far along the progress of a task is towards complete.   
You will notice that each td has a data in \{\{\}\}. This data is taken from the object in that came from the v-for and will display that object. You can \{\{\}\} to
display any data stored in the data section of your vue component.  

```vue
<template>
<div id="description">
    <h1>To Do! Application</h1>
    <p>
      A demonstration of four Javascript client-side frameworks. This is Vue.
    </p>
  </div>
  <br />
  <button id="newtask" class="newtask" @click="createTask">
    New Task
  </button>
  <br /><br /><br />
  
  <table style="width: 100%">
    <tr class="toprow">
      <td height="50px" width="33.33%">
        <b>Task</b>
      </td>
      <td height="50px" width="33.33%">
        <b>Due Date</b>
      </td>
      <td  height="50px" width="33.33%">
        <b>Progress</b>
      </td>
    </tr>
    <tr v-for="(t, index) in tasks" class="itemrow"
       v-bind:style="t.progress < 33 ? 'background-color:  #FFCCCB;' : t.progress <67 ? 'background-color: #00FFFF;' : 'background-color: #90EE90;'">
        <td class="task-field" height="50px" width="33.33%" @click="editTask(index)">   
          <button  class="delete-button" @click="setDelete">Delete </button>{{ t.task }} 
      </td>
      <td id="date" height="50px" width="33.33%" @click="editDate(index)">
        {{ t.date }}
      </td>
      <td id="progress" height="50px" width="33.33%" @click="editProgress(index)">
        {{ t.progress }}
      </td>
    </tr>
  </table>
</template>
  ```
4. The last section is the script section. The export default around the entire script is there so that the script can be used by another component (in this case astro). The
data portion returns the data that is used in this component. There are only 3 pieces of data right. Tasks is an array of data objects for the todo list. userName stores the
name of the user that logs in so that their task information can be stored and retrieved from local storage. Delete is just a flag variable to ensure that two button clicks 
do not happen at the same time.   
The mounted() portion after data contains whatever should be executed when the page loads. In this case it calls a function that logs in the users.  
Methods contain methods like any other javascript program. You will notice though that every method inside of script, as well as the data needs to be called with this. before
it in order to be recognized. Not putting the this there will result in an error and the page will not run properly. 
```javascript
<script lang="js">
  export default {
    data() {
      return {
        tasks: [],
        userName: "",
        delete: false
      }
    },
    mounted(){
      this.logIn();
    },
    methods:{
      createTask(){
        console.log("CT");
        let task = "";
        while(task.length > 15 || task.length < 1 || this.tasks.includes(task)) {
          task = prompt("Please enter a task name of at least one and up to 15 characters.", "");
          }
        let date = prompt("Enter future due date in format <MM/DD/YYYY>");
        while (!Date.parse(date) || Date.parse(date) < Date.now()) {
        date = prompt("Invalid date, Please use format <MM/DD/YYYY> in the future");
        }
        let progress = prompt("Enter completion percentage, value from 0 to 100");
        while (progress < 0 || progress > 100) {
          progress = prompt("Enter a value from 0 to 100");
        }
        let myObj = {"task": task, "date": date, "progress": progress};
        this.tasks.push(myObj);
        this.updateStorage();
      },

      editTask(index){
        console.log(index);
        if (this.delete){
          this.deleteTask(index);
        }
        else{
        let newTask = prompt("Please enter the new task name.")
        while(newTask.length > 15 || newTask.length < 1 || this.tasks.includes(newTask)) {
          newTask = prompt("Either that task already exists or is an invalid length. Enter again.", "");
          }
        this.tasks[index].task = newTask;  
        this.updateStorage();
        }
      },
      editDate(index){
        let newDate = prompt("Enter future due date in format <MM/DD/YYYY>");
        while (!Date.parse(newDate) || Date.parse(newDate) < Date.now()) {
        date = prompt("Invalid date, Please use format <MM/DD/YYYY> in the future");
        }
        this.tasks[index].date = newDate;
        this.updateStorage();
      },
      editProgress(index){
        let newProgress = prompt("Enter completion percentage, value from 0 to 100");
        while (newProgress < 0 || newProgress > 100) {
          newProgress = prompt("Enter a value from 0 to 100");
        }
        this.tasks[index].progress = newProgress; 
        this.updateStorage();
      },
      logIn(){
        let tasks = null;
        this.userName = prompt('Please Enter Your Name to Sign In');
        console.log(this.userName);
        if (window.localStorage.getItem("vue"+this.userName)) {
          console.log(window.localStorage.getItem("vue"+this.userName));
          console.log(JSON.parse(window.localStorage.getItem("vue"+this.userName)));
          this.tasks = (JSON.parse(window.localStorage.getItem("vue"+this.userName)));
           
        }
        console.log(this.tasks);
      },
      updateStorage(){
        window.localStorage.setItem("vue"+this.userName, JSON.stringify(this.tasks));
      },
      deleteTask(index){
        console.log(index);
        this.tasks.splice(index,1);
        this.delete = false;
        this.updateStorage();
        },
        setDelete(){
          this.delete = true;
          console.log("set");
        }
      
    }
  }
</script>
```
You have just created a simple todo app using the vue framework! Congratulations!
<br></br>
## Angular Tutorial

### Step 1: Initialize Angular project with Angular CLI

1.a  Run `npm -i @angular/cli` to install the Angular Command Line Interface 

1.b  Run `ng new to-do  --minimal` to create new Angular application named `to-do`.

Your new Angular project will have the following structure 
```
//'tree -I "node_modules"//
.
|-- angular.json                 // Defaults for Angular CLI
|-- package.json                 // Package dependecies (npm)
|-- package-lock.json            // Info about installed packages
|-- README.md                    // Readme
|-- src                          // Source files for application
|   |
|   |-- lib                      // Library classes
|   |-- app                      // Component files for app logic
|   |   |-- app.component.ts     // Logic for root module
|   |   |-- app.module.ts        // Defines root module
|   |-- assets                   // Images etc
|   |-- environments             // Build config options
|   |   |-- environment.prod.ts  // Default production configs
|   |   |-- environment.ts       // Default configs
|   |-- favicon.ico              // Bookmark icon
|   |-- index.html               // Html entry point
|   |-- main.ts                  // Application entry point
|   |-- polyfills.ts             // Browser configuration files
|   |-- styles.css               // Css for app
|-- tsconfig.app.json            // Extended TypeScript config for app
|-- tsconfig.json                // Typescript config file

```

### Step 2: Add basic application data models

There for this demo, there is one css file that can be added to `./src/styles.css`.  There are additionally two TypeScript classese for the User and Task classes required for this implementation data model. 
Place these classes in a `./src/lib` directory. Place the css in the `app/styles.css` file. These classes will not be included directly in this tutorial.  The classes can be found at `github.com/chadNoliver/to-do`. Their API is intended to be self-describing and their inclusion directly in this tutorial should not be necessary, as the primary focus of this tutorial is to learn how to utilize Angular.  

### Step 3: Utilize Angular Components and Directives to Make Application Dynamic

This application will be composed of two Angular Components and two Angular Directives.  For the main application component, we will edit the `app.component.ts` as follows:


```
// src/app/app.component.ts

import { Component } from '@angular/core';

import { Task } from "../lib/task";
import { User } from "../lib/user";
@Component({
  selector: 'app-root',
  templateUrl: './app.component.html'
})

export class AppComponent {                       
                                                          // instantiate objects to be modified and sent to child
  user:User = new User();
  tasks: Task[] = new Array<Task>;
  userList: User[] =new Array<User>;
  newTask(){
                                                          // newTask as called from .html file
    let task:Task = new Task();                           
    this.user.tasks.push(task);
    this.saveUsersComp();
  }
     
  ngOnInit(){
    this.loadUsersComp();
    this.findUserComp();
    this.saveUsersComp();
  }

  findUserComp(){
    for (let i = 0;i<this.userList.length;i++){
      if (this.userList[i].name==this.user.name){
          this.user = this.userList[i];
          return;
      }
    }
    this.userList.push(this.user);
    return;
  }

  loadUsersComp(){
    console.log("loading users");
    let loadedUserList = window.localStorage.getItem('userList')||"[]";
    if (loadedUserList =='undefined'){loadedUserList='[]'}
    let parsed = JSON.parse(loadedUserList);
    if(parsed.length>0 && (parsed!=undefined) && (parsed!="undefined")){
      this.userList = JSON.parse(loadedUserList);
    }
    console.log(loadedUserList); 
  }

  saveUsersComp(){
    console.log("saving users");
    let stringifiedUserList = JSON.stringify(this.userList);
    console.log(stringifiedUserList);
    window.localStorage.setItem("userList", stringifiedUserList);
  }

}


```
3.2  Next we will create the HTML layout for this component.  This Html template will be called in every place that the `<app-component>` HTML tag is called. 

Notice the `*ngFor` directive.  This Angular Directive will create a new table row for each Task object in the in user.tasks array of our data model.  This is the Angular way of dynamicaly executing DOM manipulation.

```
<!-- src/app/app.component.html -->

<body>
        <div style="text-align:center;"></div>
        <br>
                                                                     <!-- add (click) directive to execute newTask() -->
        <button id="newtask" (click)="newTask()">New Task</button> 
        <br><br><br>
        <table style="width:100%">
            <tr class="toprow">
                <td>
                    <b>Task</b>
                </td>
                <td>
                    <b>Due Date</b>
                </td>
                <td>
                    <b>Progress</b>
                </td>
            </tr>
                                                   <!-- Utilize *ngFor directive to dynamically allocate task-row components -->
            <tr class="itemrow" app-task-row
                *ngFor="let task of user.tasks"                     
                [task]="task" 
                [(userList)]="userList"
                (saveUsersCompEmit) = "saveUsersComp()"
                ></tr>
                                                   <!-- bind task to task and save upon data change with (change) directive -->
          </table>
  </body>

```


In this application, tasks will be displayed as rows in an html table.  In order to utilize Angular for making these Tasks interactive, a Task component will be created as a child of the default `app.component`.  These Task component rows can then be modified with Angular `Directives` to dynamically change features as users interact with the application.


### Step 4 Create new Angular component for to-do Tasks.

4.1  Generate new component.ts file.  
Run `ng g c task-row`.  This will add to your project tree `./src/app` directory a new directory for the `task-row` component.  
Edit the generated `task-row.component.ts` file as follows:
Notice that this will incorporate the `tr[app-task-row]` selector.  This selector is called with the `*ngFor` Directive in order to dynamically generate this component.

```
//'src/app/task-row/task-row.component.ts'//

import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
import { Task, setPctFunc, setNameFunc, setDateFunc} from '../../lib/task';
import { User, saveUsersFunc } from '../../lib/user';

@Component({
  selector: 'tr[app-task-row]',
  templateUrl: './task-row.component.html',
})

export class TaskRowComponent implements OnInit {  
@Input() task: Task;                              //Uses @Input directive to access task from parent          
@Input() userList:User[];                         //Uses @Input directive to access userList form parent
@Output() taskChange = new EventEmitter<Task>();  //Uses @Output directive to emit data to parent upon change
@Output() userListChange = new EventEmitter<User[]>();  //Uses @Output directive to emit data to parent upon change
@Output("saveUsersCompEmit") saveUsersCompEmit: EventEmitter<any> = new EventEmitter();
  ngOnInit(): void {
  }
  sendData(){
    this.taskChange.emit(this.task);  
    this.userListChange.emit(this.userList);
    this.saveUsersCompEmit.emit();
    console.log("Sending data:" + this.task);
  }
  setPctComp(){
    setPctFunc(this.task);
  }
  setNameComp(){
    setNameFunc(this.task);
  }
  setDateComp(){
    setDateFunc(this.task);
  }
  saveUsersComp(){
    saveUsersFunc(this.userList);
  }

}

```


4.2  Create Angular template for new task-row compponent.  
This is the HTML template will be inserted into the DOM upon each call from the Directive `ngFor` in the app/component.  Notice that `{{}}` brackets can be used in order to access data dynamically from the data model.  Also notice the new directive [ngClass] that will dynamically change the style of our templage based on the value of an object from our data model.  Finally, notice that `(click)` can be used in order to call methods from our data model from user interaction with this html template.

```
<!-- src/app/task-row/task-row-component.html -->
                                                                    <!-- Uses the ngClass Directive for dynamic color binding --> 
  <td [ngClass]="{'green': task.pct>75,'red': task.pct<25}"         
      (click)="setNameComp();sendData();saveUsersComp()">                                                              
                                                                    <!-- Uses (click) directive to balance state -->
      {{task.name}}
                                                                    <!-- Uses {{}} syntax to access data model -->
  </td>
                                                                    <!-- Repeat for date data --> 
  <td  [ngClass]="{'green': task.pct>75, 'red': task.pct<25}" 
      (click)="setDateComp();sendData();saveUsersComp()">

      {{task.date}}

  </td>
                                                                    <!-- Repeat for percent data -->
   <td [ngClass]="{'green': this.task.pct>75,'red': task.pct<25}" 
      (click)="setPctComp();sendData();saveUsersComp()">

    {{task.pct}}

  </td>
```
### Step 5: Serve application 
Run `ng serve` in order to run this application from the command line as a locally-hosted application.  Congratulations, you have created your first Angular application.

## Traceability

After concluding with the tutorial, the learner now has the knowledge of how various front-end frameworks work (LO1).

In addition, after learning the pros and cons of one framework over another, the learner now knows which framework to use for which sceario (LO2).

After having built 1 application in 4 different frameworks, the learner now knows how to build a simple application in the frameworks decomstrated (LO3).

The learner can also employ various strategies (conditional, list, template style vs render method style) to suit the problem domain (LO4).

## Connection to Concepts Covered in SER421

This tutorial demonstrates concepts covered in SER421 as well. 
For example, CO-1/ABET-1, which states to demonstrate technical competency in developing web applications in web standard technologies,
is shown by developing one app in React, Svelte, Vue, and Angular. By describing the structure of the applications, the learner also satisfies
CO-3 (ABET-2), which states to distinguish and illustrate principles of software design and architecture in web applications.
